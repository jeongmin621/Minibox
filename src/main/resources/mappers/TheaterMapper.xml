<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jmk.movie.mappers.TheaterMapper">
    <insert id="insertTheater"
            useGeneratedKeys="true"
            keyProperty="name"
            keyColumn="name"
            parameterType="com.jmk.movie.entities.TheaterEntity">
        INSERT INTO `mega`.`theaters` (`area_code`, `name`, `brch_code`)
        VALUES (#{areaCode}, #{name}, #{brchCode})
    </insert>
    <select id="selectTheaters" resultType="com.jmk.movie.entities.TheaterEntity">
        SELECT `area_code` AS `areaCode`,
               `name` AS `name`,
               `brch_code` AS `brchCode`
        FROM `mega`.`theaters`
        LIMIT 1
    </select>
    <select id="selectByBrchCode" resultType="com.jmk.movie.entities.TheaterEntity">
        SELECT *
        FROM `mega`.`theaters`
        WHERE `brch_code` = #{brchCode}
    </select>
</mapper>